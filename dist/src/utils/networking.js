"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getIpAddress",{enumerable:true,get:function(){return getIpAddress}});function getIpAddress(req,res){const xForwardedFor=req.getHeader("x-forwarded-for");if(xForwardedFor){return xForwardedFor.split(",")[0].trim()}const remoteAddress=req.getHeader("remote-addr");if(remoteAddress){return remoteAddress}const remoteAddr=new Uint8Array(res.getRemoteAddressAsText());const ipAddress=String.fromCharCode.apply(null,remoteAddr);if(ipAddress==="::1"||ipAddress==="0000:0000:0000:0000:0000:0000:0000:0001"){return"127.0.0.1"}if(ipAddress.includes("::ffff:")){return ipAddress.split("::ffff:")[1]}return ipAddress}
//# sourceMappingURL=networking.js.map